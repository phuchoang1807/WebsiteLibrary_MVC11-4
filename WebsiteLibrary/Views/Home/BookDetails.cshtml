@model WebsiteLibrary.Models.Entities.Book

@{
    ViewBag.Title = "Chi tiết sách";

}

<!-- mainmain -->
<section id="home-section" class="hero">
    <div class="home-slider owl-carousel">
        <div class="slider-item" style="background-image: url(/images/home.jpg)">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">
                    <div class="col-md-12 ftco-animate text-center">
                        <h1 class="mb-2">Chúng tôi cung cấp các tài liệu học tập & Giáo trình</h1>
                        <h2 class="subheading mb-4">Những cuốn sách chất lượng & những cuốn sách hay</h2>
                        <p><a href="#" class="btn btn-primary">Xem chi tiết</a></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="slider-item" style="background-image: url(/images/home_2.jpg)">
            <div class="overlay"></div>
            <div class="container">
                <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">
                    <div class="col-sm-12 ftco-animate text-center">
                        <h1 class="mb-2">Sách phát triển bản thân & Sách chữa lành</h1>
                        <h2 class="subheading mb-4">Những cuốn sách chất lượng & những cuốn sách hay</h2>
                        <p><a href="#" class="btn btn-primary">Xem chi tiết</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- mainmain -->

<section class="ftco-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 mb-5 ftco-animate">
                <a href="@Model.ImagePath" class="image-popup">
                    <img id="book-image" src="@(Model.ImagePath ?? "/images/default-book.jpg")" class="img-fluid" alt="@Model.OriginalBookTitle" />
                </a>
            </div>
            <div class="col-lg-6 book-details pl-md-5 ftco-animate">
                <h3 id="book-title">@Model.OriginalBookTitle</h3>
                <p id="book-category">Danh mục: @Model.Category</p>
                <p id="book-description">Tác giả: @Model.Author</p>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="form-group d-flex">
                            <span id="book-stock">Số lượng bản sao hiện có: @ViewBag.Stock</span>
                        </div>
                    </div>
                </div>
                <p>
                    Để mượn sách, vui lòng
                    <a href="@Url.Action("Login", "Account", new { ReturnUrl = Context.Request.Path + Context.Request.QueryString })" class="btn btn-primary">Đăng nhập</a>
                    hoặc
                    <a href="@Url.Action("Signup", "Account", new { ReturnUrl = Context.Request.Path + Context.Request.QueryString })" class="btn btn-secondary">Đăng ký</a>.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Phần sách liên quan (động) -->
<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center mb-3 pb-3">
            <div class="col-md-12 heading-section text-center ftco-animate">
                <span class="subheading">Sách</span>
                <h2 class="mb-4">Sách liên quan</h2>
                <p>Sách bầu trời tri thức giúp con người phát triển bản thân</p>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            @if (ViewBag.RelatedBooks != null && ViewBag.RelatedBooks.Count > 0)
            {
                foreach (var book in ViewBag.RelatedBooks)
                {
                    <div class="col-md-6 col-lg-3 ftco-animate">
                        <div class="book">
                            <a href="/Home/BookDetails?id=@book.id" class="img-prod">
                                <img class="img-fluid" src="@book.image" alt="@book.title" />
                                <div class="overlay"></div>
                            </a>
                            <div class="text py-3 pb-4 px-3 text-center">
                                <h3><a href="/Home/BookDetails?id=@book.id">@book.title</a></h3>
                                <div class="d-flex">
                                    <div class="pricing">
                                        <p class="price">@book.category</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <p>Không có sách liên quan trong danh mục này.</p>
            }
        </div>
    </div>
</section>